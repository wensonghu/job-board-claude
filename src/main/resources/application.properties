# Server Port
server.port=8080

# PostgreSQL Database
spring.datasource.url=jdbc:postgresql://localhost:5432/jobboard
spring.datasource.username=jobboard
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Google OAuth2 (profile + email only — Sheets scope removed)
spring.security.oauth2.client.registration.google.client-id=693538266743-vo0rm9rfl64pedpuukctpuvervhugeu4.apps.googleusercontent.com
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=profile,email

# Remember-me persistent token key (change to a long random string in production)
app.remember-me.key=${REMEMBER_ME_KEY}

# SMTP (email verification) — all optional for local dev; omit vars to disable email sending
spring.mail.host=${SMTP_HOST:}
spring.mail.port=${SMTP_PORT:587}
spring.mail.username=${SMTP_USERNAME:}
spring.mail.password=${SMTP_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# App base URL (used in verification email links)
app.base-url=${APP_BASE_URL:http://localhost:8080}

# Run schema.sql on startup (creates persistent_logins table; IF NOT EXISTS keeps it idempotent)
spring.sql.init.mode=always
# Defer SQL init until after Hibernate DDL so schema.sql runs last
spring.jpa.defer-datasource-initialization=true

# Flyway disabled locally — Hibernate ddl-auto=update manages the schema here.
# Staging and prod enable Flyway via their profile-specific properties files.
spring.flyway.enabled=false
